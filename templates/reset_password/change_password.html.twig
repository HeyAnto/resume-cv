{% extends 'base.html.twig' %}

{% block title %}Change Password — Resume.cv{% endblock %}

{% block main %}

{% include "_components/sidebar.html.twig" %}

<div class="main-content">
  {% include "_components/headers/header-logout.html.twig" %}

  <section class="section-connection">
    <div class="container">

      {{ form_start(changeForm) }}

      <div>
        <h1 class="text-h1">Change your password</h1>
        <p class="text-16 text-color-tertiary">
          Enter your new password below
        </p>
      </div>

      <div class="illustration">
        <img src="{{ asset('images/img-hannah-lee-2.webp') }}" alt="Creative Illustration">
        <p class="text-16 text-color-tertiary">Hannah Lee</p>
      </div>

      <div class="form-group">
        <label class="text-16 text-color-tertiary" for="{{ changeForm.plainPassword.first.vars.id }}">New
          Password</label>
        {{ form_widget(changeForm.plainPassword.first) }}

        {% set hasPasswordErrors = changeForm.plainPassword.first.vars.errors|length > 0 %}

        <div class="password-requirements">
          <div class="text-14 {{ hasPasswordErrors ? 'text-color-red' : 'text-color-tertiary' }}">
            • At least 12 characters
          </div>
          <div class="text-14 {{ hasPasswordErrors ? 'text-color-red' : 'text-color-tertiary' }}">
            • Mix of uppercase, lowercase, numbers and special characters
          </div>
        </div>

        {% if hasPasswordErrors %}
        <div class="text-14 text-color-red">{{ form_errors(changeForm.plainPassword.first) }}</div>
        {% endif %}
      </div>

      <div class="form-group">
        <label class="text-16 text-color-tertiary" for="{{ changeForm.plainPassword.second.vars.id }}">Repeat
          Password</label>
        {{ form_widget(changeForm.plainPassword.second) }}
        <div class="text-14 text-color-red">{{ form_errors(changeForm.plainPassword.second) }}</div>
        <div class="text-14 text-color-red">{{ form_errors(changeForm.plainPassword) }}</div>
      </div>

      <button class="btn btn-primary-xs">Change Password</button>

      <a href="{{ path('app_account_edit', {'username': app.user.profile.username}) }}"
        class="btn btn-secondary-xs">Cancel</a>

      {{ form_end(changeForm) }}

    </div>
  </section>
</div>

{% endblock %}