{% extends 'base.html.twig' %}

{% block importmap %}
{{ importmap(['app', 'admin-profile-actions']) }}
{% endblock %}

{% block title %}Admin - Companies â€” Resume.cv{% endblock %}

{% block main %}

{% include "_components/sidebar.html.twig" %}

{% include "/admin/_components/admin-sidebar.html.twig" %}

<div class="main-content">
  {% include "_components/headers/header-logout.html.twig" %}

  <section class="section-admin-list">
    <div class="container">

      <div>
        <h1 class="text-h1">Manage Companies</h1>
        <p class="text-16 text-color-tertiary">View and manage all companies</p>
      </div>

      <form method="GET" action="{{ path('admin_companies_list') }}" class="search-form flex-row items-end">
        <div class="form-group full-width">
          <label class="text-16 text-color-tertiary">
            Search
          </label>
          <input type="text" name="search" value="{{ search }}" placeholder="Company name, location, owner email..."
            autocomplete="off">
        </div>

        <div class="form-group">
          <label class="text-16 text-color-tertiary">
            Created At
          </label>
          <input type="date" name="created_at" value="{{ created_at }}">
        </div>

        <div class="form-group">
          <label class="text-16 text-color-tertiary">
            Updated At
          </label>
          <input type="date" name="updated_at" value="{{ updated_at }}">
        </div>

        <div class="flex gap-xl">
          <button type="submit" class="btn btn-primary-xs">Search</button>
          <a href="{{ path('admin_companies_list') }}" class="btn btn-secondary-xs">Clear</a>
        </div>
      </form>

      <div class="admin-list-grid">
        {% if companies is not empty %}
        {% for company in companies %}
        {% include 'admin/_components/admin-company-card.html.twig' with {'company': company} %}
        {% endfor %}
        {% else %}
        <p class="text-16 text-color-secondary">No companies found.</p>
        {% endif %}
      </div>

    </div>
  </section>
</div>

{% endblock %}