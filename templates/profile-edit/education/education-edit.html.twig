{% extends 'base.html.twig' %}

{% block title %}Profile Cooking â€” Resume.cv{% endblock %}

{% block javascripts %}
{{ parent() }}
<script src="{{ asset('js/character-counter.js') }}"></script>
{% endblock %}

{% block main %}

{% include "_components/sidebar.html.twig" %}

{% include "/profile-edit/_components/profile-edit-sidebar.html.twig" %}

<div class="main-content">
  {% include "_components/headers/header-logout.html.twig" %}

  <section class="section-profile-edit">
    <div class="container">

      <div>
        <h1 class="text-h1">{{ education ? 'Edit Education' : 'Create Education' }}</h1>
        <p class="text-16 text-color-tertiary">{{ education ? 'Update your education background' : 'Add your education
          background' }}</p>
      </div>

      {% for message in app.flashes('success') %}
      <div class="alert alert-success">
        {{ message }}
      </div>
      {% endfor %}

      {% for message in app.flashes('error') %}
      <div class="alert alert-danger">
        {{ message }}
      </div>
      {% endfor %}

      {{ form_start(form) }}

      <div class="form-group">
        <div class="flex justify-between items-center">
          <label class="text-16 text-color-tertiary" for="{{ form.schoolName.vars.id }}">
            {{ form.schoolName.vars.label }}*
          </label>
          <p class="text-14 text-color-tertiary" id="schoolName-counter"></p>
        </div>
        {{ form_widget(form.schoolName) }}
        <div class="text-14 text-color-red">{{ form_errors(form.schoolName) }}</div>
      </div>

      <div class="form-group">
        <div class="flex justify-between items-center">
          <label class="text-16 text-color-tertiary" for="{{ form.schoolLink.vars.id }}">
            {{ form.schoolLink.vars.label }}
          </label>
          <p class="text-14 text-color-tertiary" id="schoolLink-counter"></p>
        </div>
        {{ form_widget(form.schoolLink) }}
        <div class="text-14 text-color-red">{{ form_errors(form.schoolLink) }}</div>
      </div>

      <div class="form-group">
        <div class="flex justify-between items-center">
          <label class="text-16 text-color-tertiary" for="{{ form.degree.vars.id }}">
            {{ form.degree.vars.label }}*
          </label>
          <p class="text-14 text-color-tertiary" id="degree-counter"></p>
        </div>
        {{ form_widget(form.degree) }}
        <div class="text-14 text-color-red">{{ form_errors(form.degree) }}</div>
      </div>

      <div class="form-group">
        <div class="flex justify-between items-center">
          <label class="text-16 text-color-tertiary" for="{{ form.location.vars.id }}">
            {{ form.location.vars.label }}*
          </label>
          <p class="text-14 text-color-tertiary" id="location-counter"></p>
        </div>
        {{ form_widget(form.location) }}
        <div class="text-14 text-color-red">{{ form_errors(form.location) }}</div>
      </div>

      <div class="form-group">
        <div class="flex justify-between items-center">
          <label class="text-16 text-color-tertiary" for="{{ form.description.vars.id }}">
            {{ form.description.vars.label }}
          </label>
          <p class="text-14 text-color-tertiary" id="description-counter"></p>
        </div>
        {{ form_widget(form.description) }}
        <div class="text-14 text-color-red">{{ form_errors(form.description) }}</div>
      </div>

      <div class="form-group">
        <label class="text-16 text-color-tertiary" for="{{ form.startDate.vars.id }}">
          {{ form.startDate.vars.label }}*
        </label>
        {{ form_widget(form.startDate) }}
        <div class="text-14 text-color-red">{{ form_errors(form.startDate) }}</div>
      </div>

      <div class="form-group">
        <label class="text-16 text-color-tertiary" for="{{ form.endDate.vars.id }}">
          {{ form.endDate.vars.label }}
        </label>
        {{ form_widget(form.endDate) }}
        <div class="text-14 text-color-red">{{ form_errors(form.endDate) }}</div>
      </div>

      <div class="flex flex-column gap-sm">
        {{ form_widget(form.submit, {'attr': {'class': 'btn btn-primary-xs full'}}) }}

        {{ form_end(form) }}

        {% if education %}
        <form action="{{ path('app_education_delete', {'username': username, 'id': education.id}) }}" method="post"
          style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this education?')">
          <div class="flex justify-end">
            <button type="submit" class="btn btn-secondary-xs danger full">Delete</button>
          </div>
        </form>
        {% endif %}

      </div>
  </section>
</div>

{% endblock %}