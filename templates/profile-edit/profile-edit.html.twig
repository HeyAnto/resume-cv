{% extends 'base.html.twig' %}

{% block javascripts %}
{{ parent() }}
<script src="{{ asset('js/character-counter.js') }}"></script>
<script src="{{ asset('js/profile-picture-upload.js') }}"></script>
<script src="{{ asset('js/form-submit.js') }}"></script>
{% endblock %}

{% block title %}Profile Cooking â€” Resume.cv{% endblock %}

{% block main %}

{% include "_components/sidebar.html.twig" %}

{% include "/profile-edit/_components/edit-sidebar.html.twig" %}

<div class="main-content">
    {% include "_components/headers/header-logout.html.twig" %}

    <section class="section-profile-edit">
        <div class="container">

            <div>
                <h1 class="text-h1">General</h1>
                <p class="text-16 text-color-tertiary">Update your profile information</p>
            </div>

            {{ form_start(form) }}

            <img id="profile-preview" class="profile-img" src="{{ asset(profile.profilePictureUrl) }}"
                alt="Profile picture of {{ profile.displayName }}">

            <div class="form-group">
                <!-- Hidden file input -->
                <div style="display: none;">
                    {{ form_widget(form.profilePicture) }}
                </div>

                <div class="flex gap-lg">
                    <button type="button" id="upload-btn" class="btn btn-secondary-xs">Upload image</button>
                    {% if not profile.hasDefaultProfilePicture %}
                    <button type="button" id="remove-btn" class="btn btn-secondary-xs danger"
                        data-remove-url="{{ path('app_profile_remove_picture', {'username': username}) }}">Remove
                        image</button>
                    {% endif %}
                </div>

                <div class="text-14 text-color-red">{{ form_errors(form.profilePicture) }}</div>
            </div>

            <div class="form-group">
                <div class="flex justify-between items-center">
                    <label class="text-16 text-color-tertiary" for="{{ form.displayName.vars.id }}">Display
                        Name*</label>
                    <p class="text-14 text-color-tertiary" id="displayName-counter">0 of 48</p>
                </div>
                {{ form_widget(form.displayName) }}
                <div class="text-14 text-color-red">{{ form_errors(form.displayName) }}</div>
            </div>

            <div class="form-group">
                <div class="flex justify-between items-center">
                    <label class="text-16 text-color-tertiary" for="{{ form.job.vars.id }}">What do you
                        do?*</label>
                    <p class="text-14 text-color-tertiary" id="job-counter">0 of 32</p>
                </div>
                {{ form_widget(form.job) }}
                <div class="text-14 text-color-red">{{ form_errors(form.job) }}</div>
            </div>

            <div class="form-group">
                <div class="flex justify-between items-center">
                    <label class="text-16 text-color-tertiary" for="{{ form.location.vars.id }}">Location</label>
                    <p class="text-14 text-color-tertiary" id="location-counter">0 of 32</p>
                </div>
                {{ form_widget(form.location) }}
                <div class="text-14 text-color-red">{{ form_errors(form.location) }}</div>
            </div>

            <div class="form-group">
                <div class="flex justify-between items-center">
                    <label class="text-16 text-color-tertiary" for="{{ form.pronouns.vars.id }}">Pronouns</label>
                    <p class="text-14 text-color-tertiary" id="pronouns-counter">0 of 12</p>
                </div>
                {{ form_widget(form.pronouns) }}
                <div class="text-14 text-color-red">{{ form_errors(form.pronouns) }}</div>
            </div>

            <div class="form-group">
                <div class="flex justify-between items-center">
                    <label class="text-16 text-color-tertiary" for="{{ form.websiteName.vars.id }}">Display Website
                        Name</label>
                    <p class="text-14 text-color-tertiary" id="websiteName-counter">0 of 96</p>
                </div>
                {{ form_widget(form.websiteName) }}
                <div class="text-14 text-color-red">{{ form_errors(form.websiteName) }}</div>
            </div>

            <div class="form-group">
                <div class="flex justify-between items-center">
                    <label class="text-16 text-color-tertiary" for="{{ form.websiteLink.vars.id }}">Website</label>
                    <p class="text-14 text-color-tertiary" id="websiteLink-counter">0 of 96</p>
                </div>
                {{ form_widget(form.websiteLink) }}
                <div class="text-14 text-color-red">{{ form_errors(form.websiteLink) }}</div>
            </div>

            <div class="form-group">
                <div class="flex justify-between items-center">
                    <label class="text-16 text-color-tertiary" for="{{ form.description.vars.id }}">Bio</label>
                    <p class="text-14 text-color-tertiary" id="description-counter">0 of 160</p>
                </div>
                {{ form_widget(form.description) }}
                <div class="text-14 text-color-red">{{ form_errors(form.description) }}</div>
            </div>

            <div class="flex justify-end">
                <button type="submit" class="btn btn-primary-xs">Done</button>
            </div>

            {{ form_end(form) }}

        </div>
    </section>
</div>

{% endblock %}