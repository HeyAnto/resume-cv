{% extends 'base.html.twig' %}

{% block title %}Profile Cooking â€” Resume.cv{% endblock %}

{% block main %}

{% include "_components/sidebar.html.twig" %}

{% include "/profile-edit/_components/edit-sidebar.html.twig" %}

<div class="main-content">
    {% include "_components/headers/header-logout.html.twig" %}

    <section class="section-profile-edit">
        <div class="container">

            <div>
                <h1 class="text-h1">Account</h1>
                <p class="text-16 text-color-tertiary">Edit your account information</p>
            </div>

            {{ form_start(usernameForm, {'attr': {'id': 'username-form'}}) }}

            <div class="form-group">
                <label class="text-16 text-color-tertiary" for="{{ usernameForm.username.vars.id }}">Username</label>
                <div class="flex gap-sm">
                    {{ form_widget(usernameForm.username) }}
                    <button type="submit" class="btn btn-secondary-xs">Modify</button>
                </div>
                <div class="text-14 text-color-red">{{ form_errors(usernameForm.username) }}</div>
            </div>

            {{ form_end(usernameForm) }}

            {{ form_start(emailForm, {'attr': {'id': 'email-form'}}) }}

            <div class="form-group">
                <label class="text-16 text-color-tertiary" for="{{ emailForm.email.vars.id }}">Email</label>
                <div class="flex gap-sm">
                    {{ form_widget(emailForm.email) }}
                    <button type="submit" class="btn btn-secondary-xs">Modify</button>
                </div>
                <div class="text-14 text-color-red">{{ form_errors(emailForm.email) }}</div>
            </div>

            {{ form_end(emailForm) }}

            <div class="flex gap-xl">
                <div class="flex flex-column gap-xs">
                    <p class="text-16 text-color-tertiary">Security</p>
                    <div class="flex flex-column gap-lg">
                        <a href="{{ path('app_change_password') }}" class="btn btn-secondary-xs">Change Password</a>
                        <form method="post" action="{{ path('app_account_delete', {'username': username}) }}"
                            onsubmit="return confirm('Are you sure you want to delete your account? This action is irreversible and will delete all your data.')">
                            <button type="submit" class="btn btn-secondary-xs danger">Delete Account</button>
                        </form>
                    </div>
                </div>

                <div class="flex flex-column gap-xs">
                    <p class="text-16 text-color-tertiary">Theme</p>
                    <select name="theme" id="theme-select" class="form-control">
                        <option value="dark">Dark</option>
                        <option value="light">Light</option>
                    </select>
                </div>
            </div>

        </div>
    </section>
</div>

{% block javascripts %}
{{ parent() }}
<script src="{{ asset('js/form-submit.js') }}" defer></script>
{% endblock %}

{% endblock %}