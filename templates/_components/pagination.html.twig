{% if totalPages > 1 %}
<div class="pagination">
  {% if currentPage > 1 %}
  <a href="{{ path(routeName, routeParams|merge({page: currentPage - 1})) }}" class="pagination-btn pagination-prev">
    ‹ Précédent
  </a>
  {% endif %}

  <div class="pagination-numbers">
    {% set startPage = max(1, currentPage - 2) %}
    {% set endPage = min(totalPages, currentPage + 2) %}

    {% if startPage > 1 %}
    <a href="{{ path(routeName, routeParams|merge({page: 1})) }}" class="pagination-number">1</a>
    {% if startPage > 2 %}
    <span class="pagination-dots">...</span>
    {% endif %}
    {% endif %}

    {% for page in startPage..endPage %}
    {% if page == currentPage %}
    <span class="pagination-number pagination-current">{{ page }}</span>
    {% else %}
    <a href="{{ path(routeName, routeParams|merge({page: page})) }}" class="pagination-number">{{ page }}</a>
    {% endif %}
    {% endfor %}

    {% if endPage < totalPages %} {% if endPage < totalPages - 1 %} <span class="pagination-dots">...</span>
      {% endif %}
      <a href="{{ path(routeName, routeParams|merge({page: totalPages})) }}" class="pagination-number">{{ totalPages
        }}</a>
      {% endif %}
  </div>

  {% if currentPage < totalPages %} <a href="{{ path(routeName, routeParams|merge({page: currentPage + 1})) }}"
    class="pagination-btn pagination-next">
    Suivant ›
    </a>
    {% endif %}
</div>
{% endif %}